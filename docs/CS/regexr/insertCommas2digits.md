# 为数值添加逗号
------------
## 背景介绍
在English-speaking的国家，数值往往会插入逗号以便于阅读。可以知道插入逗号的位置必须满足“左边有数字，右边数字的个数正好是3的倍数”。若读者善于使用正则表达式，则为数值插入逗号这个任务肯定难不倒你。
## 方法一: 使用环视功能
用环视功能为数值添加逗号
```perl
$text =~ s/(?<=\d)(?=(\d\d\d)+(?!\d))/,/g;
```
这个表达式在处理类似“...tone of 12345Hz”的文本时效果很好；不幸的是，它同样会匹配“...the 1970s ...”中的年份。实际上，我们根本不希望这里的正则表达式能够匹配包含年份信息的数据。

### **正则表达式说明**
>  1. ?<=\d
>    满足左边有数字的条件
>  2. ?=(\d\d\d)+
>    满足右边数字的个数正好是3的倍数
>  3. ?!\d

## 方法二：不使用环视功能
```perl
while ( $text =~ s/(\d)((\d\d\d)+\b)/$1,$2/g) {
    # 循环内不用进行任何操作——我们希望的是重复这个循环，直到匹配失败
}
```
### 正则表达式说明
>因为(\d\d\d)+匹配的数字属于最终匹配文本，所以不能作为“未匹配的”部分，供/g的下一次匹配迭代使用。
